<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	html, body {
	  height: 100%;
	  margin: 0;
	}
	
</style>
<script src="https://threejs.org/build/three.min.js"></script>
<!-- OrbitControls.js allow the camera to orbit around a target 마우스와 카메라를 상호작용하게 합니다. -->
<script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
</head>
<body>
<div id="c"></div>
<script type="text/javascript">
function main() {
	//렌더링 할 요소와 화면 크기를 설정
	const renderer = new THREE.WebGLRenderer();
	renderer.setSize( window.innerWidth, window.innerHeight );
	document.querySelector('#c').appendChild(renderer.domElement);	
	
	//공간
	const scene = new THREE.Scene();
	//카메라 : 시야각, 종횡비, near, far : near보다 가까이 있거나 far보다 멀리있는 오브젝트 랜더링 하지 않음
	const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000 );
	
	//기하학 객체
	const boxGeo = new THREE.BoxGeometry(); 
	const sphereGeo = new THREE.SphereGeometry(0.5, 30, 30);
	//표면속성 (광원에 반응하는 표면)
	const material = new THREE.MeshPhongMaterial( { color: 0x00ff00 } ); 

	//Object3D를 상속받는 Mesh 객체 반환
	//Object3D의 position속성(Vector Object) 확인
	const cube = new THREE.Mesh(boxGeo, material);
	const sphere = new THREE.Mesh(sphereGeo, material);
	cube.position.z = -3; //z좌표
	sphere.position.z = -3; //z좌표
	sphere.position.x = 1; //x좌표
	cube.add(sphere);
	
	scene.add(cube);
	
	const light = new THREE.DirectionalLight(0x00ff00, 1); //reference 에서 target 확인
	light.target = cube; //빛을 쏘는 지점을 cube로 설정
	scene.add(light);

	//애니메이션을 위해서 재귀함수를 통해 화면을 반복적으로 랜더링
	//1초에 60번 반복
	const animate = () =>{
		requestAnimationFrame( animate ); //애니메이션 처리를 위한 window객체의 함수
		cube.rotation.y += 0.01; //object x축 회전
		renderer.render(scene, camera);
	}
	
	animate();
}

main();


</script>
</body>
</html>