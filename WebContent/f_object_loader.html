<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="../resources/css/reset.css" type="text/css" rel="stylesheet">
<link href="../resources/css/all.css" type="text/css" rel="stylesheet">
<link href="../resources/css/lec_web.css" type="text/css" rel="stylesheet">
<link href="../resources/css/lec_mob.css" type="text/css" rel="stylesheet" media="screen and (max-width:600px)">
<script type="text/javascript" src="../resources/js/three.js"></script>
<script type="text/javascript" src="../resources/js/OrbitControls.js"></script>
<script type="text/javascript" src="../resources/js/MTLLoader.js"></script>
<script type="text/javascript" src="../resources/js/OBJLoader.js"></script>
<script type="text/javascript" src="../resources/js/FontLoader.js"></script>
<script type="text/javascript" src="../resources/js/font-util/DoubleLineFont.js"></script>

</head>
<body>
   <div class="header">
      <div class="wrap_logo">
         <a class="logo">PCLASS</a>
      </div>
      <form class="frm_top-search">
         <input class="inp_search" type="text" placeholder="검색어를 입력하세요">
         <i class="fas fa-search"></i>
      </form>
      <div class="wrap_user">
         <a>로그인</a>
         <a>회원가입</a>
         <i class="fas fa-bars"></i>
      </div>
   </div>
   <div class="snb">
      <p>Menu</p>
      <ul>
         <li>
            <i class="fas fa-search"></i>
            <p>도서검색</p>
         </li>
         <li>
            <i class="fas fa-cart-plus"></i>
            <p>장바구니</p>
         </li>
         <li>
            <i class="fas fa-clipboard-list"></i>
            <p>공지사항</p>
         </li>
         <li>
            <i class="fas fa-user-friends"></i>
            <p>About Us</p>
         </li>
      </ul>
   </div>
   
   <div class="contents">
      <div class="main">
         
      </div>
      <div class="wrap_book">
         <p>최근 인기 도서</p>
         <div class="wrap_book-line">
            <div>
               <img src="resources/image/Nudge.jpg">
               <p>Nudge</p>
            </div>
            <div>
               <img src="resources/image/Nudge.jpg">
               <p>Nudge</p>
            </div>
            <div>
               <img src="resources/image/Nudge.jpg">
               <p>Nudge</p>
            </div>
            <div>
               <img src="resources/image/Nudge.jpg">
               <p>Nudge</p>
            </div>
         </div>
      </div>
      <div class="wrap_book">
         <p>스테디셀러</p>
         <div class="wrap_book-line">
            <div>
               <img src="resources/image/Nudge.jpg">
               <p>Nudge</p>
            </div>
            <div>
               <img src="resources/image/Nudge.jpg">
               <p>Nudge</p>
            </div>
            <div>
               <img src="resources/image/Nudge.jpg">
               <p>Nudge</p>
            </div>
            <div>
               <img src="resources/image/Nudge.jpg">
               <p>Nudge</p>
            </div>
         </div>
      </div>
      <div class="wrap_book">
         <p>새로 들어온 책</p>
         <div class="wrap_book-line">
            <div>
               <img src="resources/image/Nudge.jpg">
               <p>Nudge</p>
            </div>
            <div>
               <img src="resources/image/Nudge.jpg">
               <p>Nudge</p>
            </div>
            <div>
               <img src="resources/image/Nudge.jpg">
               <p>Nudge</p>
            </div>
            <div>
               <img src="resources/image/Nudge.jpg">
               <p>Nudge</p>
            </div>
         </div>
      </div>
      <div class="wrap_book">
         <p>최근 대출 도서</p>
         <div class="wrap_book-line">
            <div>
               <img src="resources/image/Nudge.jpg">
               <p>Nudge</p>
            </div>
            <div>
               <img src="resources/image/Nudge.jpg">
               <p>Nudge</p>
            </div>
            <div>
               <img src="resources/image/Nudge.jpg">
               <p>Nudge</p>
            </div>
            <div>
               <img src="resources/image/Nudge.jpg">
               <p>Nudge</p>
            </div>
         </div>
      </div>
   </div>
   <div class="footer"></div>
   
<script type="text/javascript" src="/resources/js/ThreeJSBoot.js"></script>
<script type="text/javascript">

let boot = new ThreeJSBoot();
let mainDiv = document.querySelector('.main');
boot.createStage(mainDiv);

let {scene, renderer, light, camera} = boot;
let txLoader = new THREE.TextureLoader();

const cube = boot.createObject3D(new THREE.BoxGeometry(),{color: 0x00ff00});
const earth = boot.createObject3D(new THREE.SphereGeometry(0.6,30,30),{map : txLoader.load('resources/texture/earth.png')});
const moon = boot.createObject3D(new THREE.SphereGeometry(0.3,30,30),{map : txLoader.load('resources/texture/moon.png')});
const neptune = boot.createObject3D(new THREE.SphereGeometry(1,30,30),{map : txLoader.load('resources/texture/neptunus.png')});
const ring = boot.createObject3D(new THREE.TorusGeometry( 2, 0.07, 16, 100 ),{map : txLoader.load('resources/texture/ring.png')});

earth.position.x= -3;
moon.position.x= -2;
neptune.position.x= 3;
ring.rotation.x = 5;

scene.add( cube );
cube.add( earth );
earth.add( moon );
cube.add( neptune );
neptune.add( ring );

scene.background = new THREE.CubeTextureLoader()
.setPath( 'resources/texture/cubeMaps/' )
.load( ['px.png','nx.png','py.png','ny.png','pz.png','nz.png'] );

const mtlUrl = 'resources/models/apollo/apollo.mtl';
const objUrl = 'resources/models/apollo/apollo.obj';

boot.createObjectFrom3DModel(mtlUrl, objUrl).then((obj) => {
	obj.position.x = 10;
	neptune.add(obj)
});

class CustomSinCurve extends THREE.Curve {
   constructor( scale = 1 ) {
      super();
      this.scale = scale;
   }

   getPoint( t, optionalTarget = new THREE.Vector3() ) {
      const tx = t * 3 - 1.5;
      const ty = Math.sin( 2 * Math.PI * t );
      const tz = 0;
      return optionalTarget.set( tx, ty, tz ).multiplyScalar( this.scale );
   }
}

const path = new CustomSinCurve( 5 );
const tubeGeo =  new THREE.TubeGeometry( path, 10, 1, 4, false );
const wireframe = new THREE.WireframeGeometry( tubeGeo );
const line = new THREE.LineSegments( wireframe );
line.material.depthTest = false;
line.material.opacity = 0.25;
line.material.transparent = true;
scene.add( line );

let fontUrl = 'resources/threejs-font/helvetiker_regular.typeface.json';
boot.loadFont(fontUrl).then(font => {
	let dlf = new DoubleLineFont(font, 0x006699,'I LOVE PET',10);
	let message = dlf.createLineText();
	scene.add(message.text);
	scene.add(message.lineText);
})

function animate() {
   requestAnimationFrame( animate );
   cube.rotation.y += 0.01;
   earth.rotation.y += 0.03;
   moon.rotation.y += 0.01;
   neptune.rotation.y += 0.05;
   ring.rotation.z += 0.1;
   
   light.intensity = light.intensity > 1 ? light.intensity -= 0.005:light.intensity += 0.005;
   renderer.render( scene, camera );
}

animate();

</script>












</body>
</html>
